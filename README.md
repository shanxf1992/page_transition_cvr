# page_transition_cvr
#### 页面之间的单跳转化率

**页面切片算法, 页面流的匹配算法**

首页 -- > 商品列表 --> 商品详情 --> 订单页面 --> 支付页面
500w 	   400w			300w		  100w			10w
	 80%           75%           30%          10%
	各个页面之间的单跳转化率 : 可以根据各个页面之间的转化率, 分析整个网站,产品, 各个页面的表现等, 决定是否需要优化产品布局, 吸引用户最终可以进行支付页面.

**需求分析:** 

```
1. 就收J2EE系统传进来的taskId, 从mysql中查询任务的参数, 日期范围, 页面流id
2. 针对指定范围内的用户访问行为数据, 去判断和计算, 页面流id中, 每两个页面组成的页面切片, 它的访问量
3. 根据指定页面流中各个页面切片的访问量, 计算出来各个页面切片的转化率
4. 将计算出来的页面转化率, 写入到MySQL中
```

**切片:** 

用户指定的页面流id可能是: 
	3, 5, 7, 9, 10, 21
想要看到的可能是:
	3 -> 5 的转化率
	5 -> 7 的转化率
	7 -> 9 的转化率 
	
**技术方案:**

```
	1.获取任务的日期范围参数
	2.查询指定日期范围内的用户访问行为数据
	3.获取用户访问行为中,每个session, 计算出各个在指定页面流中的页面切片的访问量, 页面单跳生成以及页面
```

**流匹配的算法**

```
	1.计算出符合页面流订单各个切片的pv
	2.针对用户指定的页面流, 去计算各个页面单跳切片的转化率
	3.将结果持久化到数据库中
```

